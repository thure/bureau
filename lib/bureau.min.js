(function(f){f.fn.bureau=function(j){var h=function(a){return"[object Function]"===Object.prototype.toString.call(a)},g=function(a){return"[object String]"===Object.prototype.toString.call(a)},k=function(a,d,c){var b,e,i={};for(b in a)if(a.hasOwnProperty(b))if("when"===b)if(h(a.when))e=a.when;else if(g(a.when))switch(a.when){case "checked":e=function(a){return a.prop("checked")};break;default:window.console.error('Bureau: Could not find appropriate validator for "'+a.when+'".')}else"[object RegExp]"===
Object.prototype.toString.call(a.when)&&(e=function(b){return a.when.test(b.val())});else if("then"===b||"else"===b)if(h(a[b]))i[b]=a[b];else if(g(a[b]))switch(a[b]){case "show":i[b]=function(){f(this).show()};break;case "hide":i[b]=function(){f(this).hide()};break;default:window.console.error('Bureau: Could not find appropriate callback for "'+a[b]+'".')}return function(){e.call(d,c)?i.then.call(d):i["else"].call(d)}};return this.each(function(){var a=f(this),d;for(d in j)if(j.hasOwnProperty(d)){var c=
j[d];if(g(c.dependsOn)&&(h(c.when)||g(c.when)||"[object RegExp]"===Object.prototype.toString.call(c.when))&&(h(c.then)||g(c.then))&&(h(c["else"])||g(c["else"]))){var b=f(d,a),e=f(c.dependsOn,a);e.on("change keyup",k(c,b,e));e.trigger("change")}}})}})("undefined"!==typeof Zepto&&null!==Zepto?Zepto:jQuery);
