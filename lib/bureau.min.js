// Bureau v0.1 - bureaujs.org/license - Will Shown | w@willshown.com
(function(d){d.fn.bureau=function(j){var h=function(a){return"[object Function]"===Object.prototype.toString.call(a)},g=function(a){return"[object String]"===Object.prototype.toString.call(a)},k=function(a,e,c){var b,f,i={};for(b in a)if(a.hasOwnProperty(b))if("when"===b)if(h(a.when))f=a.when;else if(g(a.when))switch(a.when){case "checked":f=function(){return d(this).prop("checked")};break;default:window.console.error('Bureau: Could not resolve string-shortcut "'+a.when+'".')}else"[object RegExp]"===
Object.prototype.toString.call(a.when)&&(f=function(){return a.when.test(d(this).val())});else if("then"===b||"else"===b)if(h(a[b]))i[b]=a[b];else if(g(a[b]))switch(a[b]){case "show":i[b]=function(){d(this).show()};break;case "hide":i[b]=function(){d(this).hide()};break;default:window.console.error('Bureau: Could not resolve string-shortcut "'+a[b]+'".')}return function(){f.call(c,e)?i.then.call(e,c):i["else"].call(e,c)}};return this.each(function(){var a=d(this),e;for(e in j)if(j.hasOwnProperty(e)){var c=
j[e];if(g(c.dependsOn)&&(h(c.when)||g(c.when)||"[object RegExp]"===Object.prototype.toString.call(c.when))&&(h(c.then)||g(c.then))&&(h(c["else"])||g(c["else"]))){var b=d(e,a),f=d(c.dependsOn,a);f.on("change keyup",k(c,b,f));f.trigger("change")}}})}})("undefined"!==typeof window.Zepto&&null!==window.Zepto?window.Zepto:window.jQuery);